{# ---- ШАБЛОН ------------------------------------------------------------ #}
{% extends Template('/admin/base.html.twig') %}

{% set ROLE = 'ROLE_CARS_MODIFICATION' %}

{# ---- CSS ------------------------------------------------------------ #}
{% block title %}

{% endblock %}

{# ---- CSS ------------------------------------------------------------ #}
{% block stylesheets %}
    <link href="/assets/{{ version }}/plugins/nice-select2/nice-select2.min.css" rel="stylesheet">
{% endblock %}

{# ---- КОНТЕНТ-БЛОК ------------------------------------------------------------ #}
{% block content %}
    {{ include(_self|replace({ "template.html.twig": baks_settings.device~"/content.html.twig" })) }}
{% endblock %}


{% block javascript %}
<script nonce='{{ csp_nonce() }}' async data-src='/assets/{{ version }}/plugins/nice-select2/nice-select2.min.js?v={{ version }}'
            class='lazy'></script>

    <script nonce="{{ csp_nonce() }}">
        document.addEventListener("DOMContentLoaded", (event) =>
        {


            let $cars_filter_form_brand = document.getElementById('cars_filter_form_brand');

            $cars_filter_form_brand.addEventListener('change', () =>
            {
                let cars_filter_form_model = document.getElementById('cars_filter_form_model');
                cars_filter_form_model.selectedIndex = 0;
            });


            const form = document.forms.cars_filter_form;
            form.addEventListener('change', () => { setTimeout(() => { form.submit(); }, 300); });

        });
    </script>

{% endblock %}